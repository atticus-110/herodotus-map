<!DOCTYPE html>
<html>
<head>
  <title>Herodotus Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    #map {
      height: 100vh;
      width: 100vw;
    }

    .region-label {
      background: none;
      border: none;
      color: darkgoldenrod;
      font-weight: bold;
      font-size: 16px;
      text-shadow: 1px 1px 2px white;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // === Base maps ===

    // Modern map with labels
    const modernMap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '&copy; OpenStreetMap contributors'
    });

    // Ancient-style map with no labels, but clear coastlines
    const ancientMap = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {
      maxZoom: 18,
      attribution: '&copy; CartoDB'
    });

    // Create map
    const map = L.map('map', {
      center: [38, 25],
      zoom: 5,
      layers: [modernMap] // default view
    });

    // Add layer toggle
    const baseMaps = {
      "Modern Map": modernMap,
      "Ancient Map Style": ancientMap
    };
    L.control.layers(baseMaps, null, { position: 'topright' }).addTo(map);

    // === Markers & Regions ===

    // Sardis marker with Herodotus story
    const sardis = L.marker([38.4746, 28.0428]).addTo(map);
    sardis.bindPopup(`
      <b>Sardis</b><br>
      Capital of Lydia.<br><br>
      <i>People:</i><br>
      – Candaules (last Heraclid king)<br>
      – Gyges (bodyguard who became king)<br><br>
      <i>Story:</i><br>
      Candaules insisted Gyges look upon his queen without her knowledge. When the queen found out, she gave Gyges a choice: kill the king or die himself. Gyges killed Candaules and took the throne.<br><br>
      <i>Source:</i> Herodotus 1.8–1.14
    `);

    // Lydia region (approximate boundaries)
    const lydia = L.polygon([
      [38.9, 27.3],
      [38.7, 29.4],
      [37.8, 29.4],
      [37.5, 28.0],
      [38.1, 26.8],
      [38.9, 27.3]
    ], {
      color: "goldenrod",
      fillColor: "gold",
      fillOpacity: 0.3
    }).addTo(map);

    // Lydia popup and label
    lydia.bindPopup("<b>Region: Lydia</b><br>Kingdom of Candaules, Gyges, and Croesus.");
    lydia.bindTooltip("Lydia", {
      permanent: true,
      direction: "center",
      className: "region-label"
    }).openTooltip();
  </script>
</body>
</html>
